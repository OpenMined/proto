syntax = "proto3";

package syft_proto.messaging.v1;

import "syft_proto/generic/pointers/v1/pointer.proto";
import "syft_proto/generic/v1/tensor.proto";
import "syft_proto/types/syft/v1/id.proto";
import "syft_proto/types/syft/v1/operation.proto";

message SyftMessage {
  oneof contents {
    ForceObjectDeleteMessage contents_delete_msg = 1;
    GetShapeMessage contents_get_shape_msg = 2;
    IsNoneMessage contents_is_none_msg = 3;
    ObjectMessage contents_object_msg = 4;
    ObjectRequestMessage contents_object_request_msg = 5;
    OperationMessage contents_operation_msg = 6;
    PlanCommandMessage contents_plan_command_msg = 7;
    SearchMessage contents_search_msg = 8;
  }
}

message ForceObjectDeleteMessage {
    syft_proto.types.syft.v1.Id object_id = 1;
}

message GetShapeMessage {
    syft_proto.generic.pointers.v1.Pointer pointer = 1;
}

message IsNoneMessage {
    syft_proto.generic.pointers.v1.Pointer pointer = 1;
}

message ObjectMessage {
    syft_proto.generic.v1.Tensor tensor = 1;
}

message ObjectRequestMessage {
    syft_proto.types.syft.v1.Id object_id = 1;
}

message OperationMessage {
    syft_proto.types.syft.v1.Operation operation = 1;
}

message PlanCommandMessage {
    string command = 1;
    syft_proto.types.syft.v1.Id id = 2;
    bool copy = 3;
}

message SearchMessage {
    repeated string query_terms = 1;
}
